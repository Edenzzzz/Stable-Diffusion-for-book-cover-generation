2022-12-11 20:01:37,231 INFO    StreamThr :174141 [internal.py:wandb_internal():87] W&B internal server running at pid: 174141, started at: 2022-12-11 20:01:37.230442
2022-12-11 20:01:37,234 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: status
2022-12-11 20:01:37,235 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: status
2022-12-11 20:01:37,237 INFO    WriterThread:174141 [datastore.py:open_for_write():75] open: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/run-338wajmd.wandb
2022-12-11 20:01:37,237 DEBUG   SenderThread:174141 [sender.py:send():303] send: header
2022-12-11 20:01:37,250 DEBUG   SenderThread:174141 [sender.py:send():303] send: run
2022-12-11 20:01:37,253 INFO    SenderThread:174141 [sender.py:_maybe_setup_resume():593] checking resume status for None/book_cover_generation/338wajmd
2022-12-11 20:01:37,393 INFO    SenderThread:174141 [sender.py:_maybe_setup_resume():656] configured resuming with: ResumeState(resumed=True,step=40025,history=40025,events=1581,output=239,runtime=54448.275752,wandb_runtime=1986,summary={'examples': {'width': 2048, 'format': 'png', 'height': 5120, 'sha256': 'fb5cd04ea4b19dfd6a2483dfc6d8b33e19013fa59f61094829d1cd18c22b1f50', 'path': 'media/images/examples_40024_fb5cd04ea4b19dfd6a24.png', 'size': 10755987, '_type': 'image-file'}, 'mean_epoch_loss': 0.14604474741418336, 'loss': 0.026316290721297264, 'step': '4999/5000', '_runtime': 54299.716519117355, 'epoch': 2, '_wandb': {'runtime': 1986}, '_timestamp': 1670716949.865076, 'lr': 4.999999999983049e-06, 'test': {'caption': 'useless', 'path': 'media/images/test_40020_14450b5f3680b06cee8f.jpg', 'size': 9429, '_type': 'image-file', 'width': 169, 'format': 'jpg', 'height': 254, 'sha256': '14450b5f3680b06cee8f0297cd4337e3d18c1f9bf666a4e420140b39f2cb2b61'}, '_step': 40024},config={'seed': {'desc': None, 'value': 42}, '_wandb': {'desc': None, 'value': {'t': {'1': [1, 11, 41, 49, 55, 71, 79], '2': [1, 11, 41, 49, 55, 71, 79], '3': [5, 13, 14, 23], '4': '3.8.10', '5': '0.13.6', '6': '4.24.0', '8': [5]}, 'framework': 'huggingface', 'start_time': 1670810470.600491, 'cli_version': '0.13.6', 'is_jupyter_run': False, 'python_version': '3.8.10', 'is_kaggle_kernel': False, 'huggingface_version': '4.24.0'}}, 'epochs': {'desc': None, 'value': 8}, 'scale_lr': {'desc': None, 'value': False}, 'templates': {'desc': None, 'value': ['A {} book cover with author: {}, book title: {} ', 'A {} book cover written by author: {} with book title: {} ', 'A  {} book\xa0cover\xa0with\xa0author name:{},\xa0book\xa0title:\xa0{}', 'A detailed {} book cover with author: {} and book title: {} ']}, 'output_dir': {'desc': None, 'value': './model'}, 'train_unet': {'desc': None, 'value': False}, 'weight_decay': {'desc': None, 'value': 0.001}, 'learning_rate': {'desc': None, 'value': 5e-06}, 'num_templates': {'desc': None, 'value': 4}, 'include_summary': {'desc': None, 'value': False}, 'train_batch_size': {'desc': None, 'value': 1}, 'train_text_encoder': {'desc': None, 'value': True}, 'training_dataset_size': {'desc': None, 'value': 5000}, 'gradient_checkpointing': {'desc': None, 'value': False}, 'gradient_accumulation_steps': {'desc': None, 'value': 10}, 'pretrained_model_name_or_path': {'desc': None, 'value': 'CompVis/stable-diffusion-v1-4'}})
2022-12-11 20:01:37,589 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: check_version
2022-12-11 20:01:37,590 INFO    SenderThread:174141 [dir_watcher.py:__init__():216] watching files in: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files
2022-12-11 20:01:37,590 INFO    SenderThread:174141 [sender.py:_start_run_threads():928] run started: 338wajmd with start time 1670756048.949622
2022-12-11 20:01:37,590 DEBUG   SenderThread:174141 [sender.py:send():303] send: summary
2022-12-11 20:01:37,590 INFO    SenderThread:174141 [sender.py:_save_file():1171] saving file wandb-summary.json with policy end
2022-12-11 20:01:37,591 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: check_version
2022-12-11 20:01:37,662 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: run_start
2022-12-11 20:01:37,675 DEBUG   HandlerThread:174141 [system_info.py:__init__():31] System info init
2022-12-11 20:01:37,675 DEBUG   HandlerThread:174141 [system_info.py:__init__():46] System info init done
2022-12-11 20:01:37,675 INFO    HandlerThread:174141 [system_monitor.py:start():150] Starting system monitor
2022-12-11 20:01:37,675 INFO    SystemMonitor:174141 [system_monitor.py:_start():116] Starting system asset monitoring threads
2022-12-11 20:01:37,676 INFO    SystemMonitor:174141 [interfaces.py:start():168] Started cpu
2022-12-11 20:01:37,677 INFO    SystemMonitor:174141 [interfaces.py:start():168] Started disk
2022-12-11 20:01:37,678 INFO    SystemMonitor:174141 [interfaces.py:start():168] Started gpu
2022-12-11 20:01:37,679 INFO    SystemMonitor:174141 [interfaces.py:start():168] Started memory
2022-12-11 20:01:37,679 INFO    SystemMonitor:174141 [interfaces.py:start():168] Started network
2022-12-11 20:01:37,729 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: stop_status
2022-12-11 20:01:37,729 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: stop_status
2022-12-11 20:01:37,805 DEBUG   SenderThread:174141 [sender.py:send():303] send: telemetry
2022-12-11 20:01:38,593 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_created():275] file/dir created: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/wandb-summary.json
2022-12-11 20:01:42,591 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_created():275] file/dir created: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:44,592 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:46,593 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:48,771 DEBUG   SenderThread:174141 [sender.py:send():303] send: exit
2022-12-11 20:01:48,771 INFO    SenderThread:174141 [sender.py:send_exit():442] handling exit code: 1
2022-12-11 20:01:48,772 INFO    SenderThread:174141 [sender.py:send_exit():444] handling runtime: 1997
2022-12-11 20:01:48,772 INFO    SenderThread:174141 [sender.py:_save_file():1171] saving file wandb-summary.json with policy end
2022-12-11 20:01:48,772 INFO    SenderThread:174141 [sender.py:send_exit():450] send defer
2022-12-11 20:01:48,772 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,773 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 0
2022-12-11 20:01:48,773 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,773 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 0
2022-12-11 20:01:48,773 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 1
2022-12-11 20:01:48,773 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,773 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 1
2022-12-11 20:01:48,773 INFO    HandlerThread:174141 [system_monitor.py:finish():160] Stopping system monitor
2022-12-11 20:01:48,774 DEBUG   SystemMonitor:174141 [system_monitor.py:_start():130] Starting system metrics aggregation loop
2022-12-11 20:01:48,774 DEBUG   SystemMonitor:174141 [system_monitor.py:_start():137] Finished system metrics aggregation loop
2022-12-11 20:01:48,775 DEBUG   SystemMonitor:174141 [system_monitor.py:_start():141] Publishing last batch of metrics
2022-12-11 20:01:48,776 INFO    HandlerThread:174141 [interfaces.py:finish():175] Joined cpu
2022-12-11 20:01:48,776 INFO    HandlerThread:174141 [interfaces.py:finish():175] Joined disk
2022-12-11 20:01:48,931 INFO    HandlerThread:174141 [interfaces.py:finish():175] Joined gpu
2022-12-11 20:01:48,932 INFO    HandlerThread:174141 [interfaces.py:finish():175] Joined memory
2022-12-11 20:01:48,932 INFO    HandlerThread:174141 [interfaces.py:finish():175] Joined network
2022-12-11 20:01:48,932 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,932 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 1
2022-12-11 20:01:48,932 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 2
2022-12-11 20:01:48,933 DEBUG   SenderThread:174141 [sender.py:send():303] send: stats
2022-12-11 20:01:48,933 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,934 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 2
2022-12-11 20:01:48,934 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,934 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 2
2022-12-11 20:01:48,934 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 3
2022-12-11 20:01:48,934 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,934 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 3
2022-12-11 20:01:48,935 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,935 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 3
2022-12-11 20:01:48,935 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 4
2022-12-11 20:01:48,935 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,935 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 4
2022-12-11 20:01:48,936 DEBUG   SenderThread:174141 [sender.py:send():303] send: summary
2022-12-11 20:01:48,936 INFO    SenderThread:174141 [sender.py:_save_file():1171] saving file wandb-summary.json with policy end
2022-12-11 20:01:48,936 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,936 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 4
2022-12-11 20:01:48,936 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 5
2022-12-11 20:01:48,937 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:48,937 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 5
2022-12-11 20:01:48,937 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:48,937 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 5
2022-12-11 20:01:49,045 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 6
2022-12-11 20:01:49,046 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:49,046 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 6
2022-12-11 20:01:49,046 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:49,046 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 6
2022-12-11 20:01:49,594 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/config.yaml
2022-12-11 20:01:49,595 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/wandb-summary.json
2022-12-11 20:01:49,766 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: poll_exit
2022-12-11 20:01:50,595 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:50,677 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 7
2022-12-11 20:01:50,677 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: poll_exit
2022-12-11 20:01:50,678 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:50,678 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 7
2022-12-11 20:01:50,678 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:50,678 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 7
2022-12-11 20:01:50,678 INFO    SenderThread:174141 [dir_watcher.py:finish():362] shutting down directory watcher
2022-12-11 20:01:50,767 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: poll_exit
2022-12-11 20:01:51,595 INFO    Thread-13 :174141 [dir_watcher.py:_on_file_modified():292] file/dir modified: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:51,596 INFO    SenderThread:174141 [dir_watcher.py:finish():392] scan: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files
2022-12-11 20:01:51,596 INFO    SenderThread:174141 [dir_watcher.py:finish():406] scan save: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/config.yaml config.yaml
2022-12-11 20:01:51,596 INFO    SenderThread:174141 [dir_watcher.py:finish():406] scan save: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/wandb-summary.json wandb-summary.json
2022-12-11 20:01:51,597 INFO    SenderThread:174141 [dir_watcher.py:finish():406] scan save: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log output.log
2022-12-11 20:01:51,607 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 8
2022-12-11 20:01:51,608 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: poll_exit
2022-12-11 20:01:51,613 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:51,613 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 8
2022-12-11 20:01:51,614 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:51,614 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 8
2022-12-11 20:01:51,614 INFO    SenderThread:174141 [file_pusher.py:finish():168] shutting down file pusher
2022-12-11 20:01:51,768 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: poll_exit
2022-12-11 20:01:51,768 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: poll_exit
2022-12-11 20:01:51,995 INFO    Thread-16 :174141 [upload_job.py:push():143] Uploaded file /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/config.yaml
2022-12-11 20:01:52,003 INFO    Thread-17 :174141 [upload_job.py:push():143] Uploaded file /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/wandb-summary.json
2022-12-11 20:01:52,006 INFO    Thread-18 :174141 [upload_job.py:push():143] Uploaded file /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/files/output.log
2022-12-11 20:01:52,207 INFO    Thread-12 :174141 [sender.py:transition_state():463] send defer: 9
2022-12-11 20:01:52,208 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:52,208 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 9
2022-12-11 20:01:52,208 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:52,209 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 9
2022-12-11 20:01:52,209 INFO    SenderThread:174141 [file_pusher.py:join():173] waiting for file pusher
2022-12-11 20:01:52,209 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 10
2022-12-11 20:01:52,209 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:52,210 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 10
2022-12-11 20:01:52,210 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:52,210 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 10
2022-12-11 20:01:52,416 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 11
2022-12-11 20:01:52,417 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:52,417 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 11
2022-12-11 20:01:52,417 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:52,418 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 11
2022-12-11 20:01:52,418 INFO    SenderThread:174141 [sender.py:transition_state():463] send defer: 12
2022-12-11 20:01:52,419 DEBUG   SenderThread:174141 [sender.py:send():303] send: final
2022-12-11 20:01:52,419 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: defer
2022-12-11 20:01:52,420 DEBUG   SenderThread:174141 [sender.py:send():303] send: footer
2022-12-11 20:01:52,420 INFO    HandlerThread:174141 [handler.py:handle_request_defer():162] handle defer: 12
2022-12-11 20:01:52,420 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: defer
2022-12-11 20:01:52,420 INFO    SenderThread:174141 [sender.py:send_request_defer():459] handle sender defer: 12
2022-12-11 20:01:52,422 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: poll_exit
2022-12-11 20:01:52,422 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: poll_exit
2022-12-11 20:01:52,423 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: poll_exit
2022-12-11 20:01:52,424 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: poll_exit
2022-12-11 20:01:52,425 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: server_info
2022-12-11 20:01:52,425 DEBUG   SenderThread:174141 [sender.py:send_request():317] send_request: server_info
2022-12-11 20:01:52,428 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: get_summary
2022-12-11 20:01:52,430 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: sampled_history
2022-12-11 20:01:52,565 DEBUG   HandlerThread:174141 [handler.py:handle_request():139] handle_request: shutdown
2022-12-11 20:01:52,565 INFO    HandlerThread:174141 [handler.py:finish():814] shutting down handler
2022-12-11 20:01:53,419 INFO    WriterThread:174141 [datastore.py:close():279] close: /home/wenxuan/Stable-diffusion-for-book-cover-generation/wandb/run-20221211_200137-338wajmd/run-338wajmd.wandb
2022-12-11 20:01:53,564 INFO    SenderThread:174141 [sender.py:finish():1331] shutting down sender
2022-12-11 20:01:53,564 INFO    SenderThread:174141 [file_pusher.py:finish():168] shutting down file pusher
2022-12-11 20:01:53,564 INFO    SenderThread:174141 [file_pusher.py:join():173] waiting for file pusher
2022-12-11 20:01:53,568 INFO    MainThread:174141 [internal.py:handle_exit():77] Internal process exited
